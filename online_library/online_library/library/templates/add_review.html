{% extends 'base.html' %}
{% block title %}Add Review for {{ book.title }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-md">
    <h1 class="text-3xl font-bold mb-4 text-center text-indigo-700">
        Add Review for <span class="text-gray-800">{{ book.title }}</span>
    </h1>

    <div class="mb-6">
        <p class="text-gray-700"><strong>Author:</strong> {{ book.author }}</p>
        <p class="text-gray-700"><strong>Category:</strong> {{ book.category }}</p>
    </div>

    {% if user.is_authenticated %}
        <form method="POST" class="space-y-4">
            {% csrf_token %}

            <!-- Rating -->
            <div>
                <label for="rating" class="block text-sm font-semibold mb-1 text-gray-700">Rating</label>
                <select name="rating" id="rating" class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-indigo-500">
                    <option value="5">⭐⭐⭐⭐⭐ (5/5)</option>
                    <option value="4">⭐⭐⭐⭐ (4/5)</option>
                    <option value="3">⭐⭐⭐ (3/5)</option>
                    <option value="2">⭐⭐ (2/5)</option>
                    <option value="1">⭐ (1/5)</option>
                </select>
            </div>

            <!-- Review Text -->
            <div>
                <label for="text" class="block text-sm font-semibold mb-1 text-gray-700">Your Review</label>
                <textarea id="text" name="text" rows="4"
                    class="w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-indigo-500 focus:outline-none"
                    placeholder="What did you think about this book?"></textarea>
            </div>

            <!-- Submit -->
            <div class="flex justify-end">
                <button type="submit"
                    class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-all duration-200">
                    Submit Review
                </button>
            </div>
        </form>
    {% else %}
        <div class="text-center text-gray-700">
            <p>You must <a href="{% url 'login' %}" class="text-indigo-600 hover:underline">log in</a> to post a review.</p>
        </div>
    {% endif %}
</div>
{% endblock %}
